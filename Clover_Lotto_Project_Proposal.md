# Clover Lotto 통합 앱 기획서

### 1. 앱 개요

**목표:** `clover-wallet`의 안정적인 지갑 관리 기능을 기반으로, 로또 구매 및 당첨 경험을 혁신하고 사용자에게 즐거움을 제공하는 통합 로또 관리 및 커뮤니티 앱을 구축합니다. 로또 번호 추첨부터 당첨 확인, 명당 탐색, 그리고 사용자 간의 소통까지 로또와 관련된 모든 활동을 하나의 앱에서 편리하게 관리할 수 있도록 합니다.

**주요 사용자:**
*   로또 구매를 즐기는 일반 사용자
*   자신만의 로또 번호 관리 시스템을 원하는 사용자
*   로또 명당 탐색 및 방문에 관심 있는 사용자
*   로또 관련 정보를 공유하고 소통하기를 원하는 사용자

### 2. 핵심 기능

1.  **로또 번호 추첨 기능:**
    *   **자동 번호 생성:** 다양한 알고리즘(랜덤, 통계 기반, 과거 당첨 번호 분석 등)을 활용한 로또 번호 자동 생성.
    *   **수동 번호 입력:** 사용자가 직접 원하는 번호를 입력하여 저장.
    *   **번호 조합 관리:** 생성/입력된 번호 조합을 저장하고 관리하는 기능.

2.  **로또 내역 관리 (스캔 및 수동 입력):**
    *   **로또 용지 스캔:** OCR(광학 문자 인식) 기술을 활용하여 로또 용지의 번호 및 회차 정보를 자동으로 인식하고 저장.
    *   **수동 구매 내역 입력:** 구매한 로또의 회차, 번호, 구매일 등을 수동으로 입력하여 관리.
    *   **구매 내역 조회:** 날짜, 회차별로 구매 내역을 조회하고 당첨 여부를 확인할 수 있는 기능.

3.  **전국 로또 명당 찾기 (내 주변 로또 명당 포함):**
    *   **명당 데이터베이스:** 과거 당첨 이력이 많은 로또 판매점 데이터를 구축 및 관리.
    *   **지도 기반 검색:** 현재 위치 기반으로 주변 로또 명당을 지도에 표시하고, 거리 및 경로 안내 제공.
    *   **지역별 명당 검색:** 특정 지역의 로또 명당을 검색하고 목록으로 제공.
    *   **명당 상세 정보:** 각 명당의 주소, 영업시간, 특징, 당첨 이력 등의 상세 정보 제공.

4.  **자동 푸시 알림 서비스 및 당첨 고지:**
    *   **구매 내역 기반 알림:** 사용자의 로또 구매 내역을 기반으로 다음 회차 추첨일, 당첨 발표일 등 주요 일정 푸시 알림.
    *   **당첨 발표 후 스크래핑:** 로또 공식 홈페이지(동행복권 등)를 주기적으로 스크래핑하여 당첨 번호를 확인.
    *   **자동 당첨 확인 및 고지:** 사용자의 구매 내역과 당첨 번호를 비교하여 당첨 여부를 자동으로 확인하고, 당첨 시 푸시 알림으로 즉시 고지. (당첨 등급 및 당첨금 예상액 포함)

5.  **홍보를 위한 번호 관리 및 공지 기능:**
    *   **추첨 번호 내역 관리:** 앱 내에서 추첨된 번호들의 내역을 저장하고, 당첨 시 해당 번호가 어떤 방식으로 추첨되었는지(예: 랜덤, 특정 알고리즘) 기록.
    *   **당첨 방법 공지:** 앱 내 공지사항 형태로 "OOO 방식으로 추첨된 번호가 1등 당첨!"과 같이 홍보성 메시지 게시.
    *   **앱 푸시 발송:** 특정 추첨 방식의 당첨 소식을 앱 푸시로 사용자들에게 발송하여 앱의 번호 추첨 기능 홍보.

6.  **구입 내역 기반 인증 시스템 및 커뮤니티 관리:**
    *   **구매 내역 기반 뱃지 시스템:** 로또 구매 횟수, 당첨 횟수, 특정 금액 이상 당첨 등 다양한 기준에 따라 사용자에게 뱃지 부여.
    *   **커뮤니티 프로필 연동:** 획득한 뱃지를 커뮤니티 활동 시 사용자 닉네임 옆에 표시하여 신뢰도 및 활동성 증진.
    *   **자유 게시판:** 로또 관련 정보 공유, 당첨 후기, 번호 분석 등 자유로운 소통 공간 제공.
    *   **댓글 및 좋아요 기능:** 게시물에 대한 상호작용 기능 제공.

7.  **로또 명당과 함께하는 여행 플랜 추천:**
    *   **명당 연계 여행지 추천:** 특정 로또 명당 주변의 관광지, 맛집, 숙소 등 여행 정보를 연계하여 추천.
    *   **맞춤형 여행 플랜:** 사용자의 선호도(예: 자연, 문화, 맛집)와 로또 명당 방문을 결합한 맞춤형 여행 코스 제안.
    *   **지도 및 경로 안내:** 추천된 여행 플랜에 대한 지도 정보 및 이동 경로 안내 제공.

### 3. 기술 스택

*   **프론트엔드 (모바일 앱):** Flutter (Dart)
    *   크로스 플랫폼 지원 (iOS, Android)
    *   반응형 UI 및 뛰어난 성능
    *   상태 관리: Provider, Riverpod 또는 BLoC 패턴
    *   HTTP 통신: `http` 패키지 또는 `Dio`
    *   OCR: Google ML Kit 또는 외부 OCR API 연동
    *   지도: `google_maps_flutter` 또는 `flutter_naver_map`
    *   푸시 알림: Firebase Cloud Messaging (FCM)

*   **백엔드 (API 서버):** Kotlin with Spring Boot (WebFlux)
    *   `clover-wallet` 프로젝트의 기존 API 활용 및 확장
    *   RESTful API 설계 및 구현
    *   데이터베이스 연동: RDB (PostgreSQL, MySQL 등) 또는 NoSQL (MongoDB 등)
    *   웹 스크래핑: Jsoup (Kotlin) 또는 Selenium
    *   위치 기반 서비스: Geo-spatial 쿼리 지원 데이터베이스 및 외부 지도 API 연동
    *   푸시 알림 연동: FCM 서버 SDK
    *   추천 시스템: 간단한 규칙 기반 또는 머신러닝 라이브러리 (Kotlin)

*   **데이터베이스:**
    *   사용자 정보, 로또 구매 내역, 번호 조합, 명당 정보, 커뮤니티 게시물 등 저장.
    *   `clover-wallet` 프로젝트에서 사용하는 DB를 따르거나, 필요시 확장.

*   **인프라:**
    *   클라우드 플랫폼: AWS, GCP, Azure 등
    *   CI/CD: GitHub Actions, GitLab CI, Jenkins 등

### 4. 시스템 아키텍처 (고수준)

```
+-------------------+       +-------------------+       +-------------------+
|   Flutter Client  | <---> |   Backend API     | <---> |    Database       |
| (iOS/Android App) |       | (Kotlin/Spring)   |       |                   |
+-------------------+       +-------------------+       +-------------------+
         ^                           ^     ^     ^
         |                           |     |     |
         |                           |     |     +------------------------+
         |                           |     |                              |
         |                           |     +-------------------+          |
         |                           |                         |          |
+-----------------------+   +-----------------------+   +-----------------------+
| Firebase Cloud        |   | Lotto Official        |   | Location/Map Services |
| Messaging (FCM)       |   | Website (Scraping)    |   | (e.g., Google Maps)   |
+-----------------------+   +-----------------------+   +-----------------------+
```

*   **Flutter Client:** 사용자 인터페이스 및 사용자 경험을 담당하며, 백엔드 API와 통신하여 데이터를 주고받습니다. FCM을 통해 푸시 알림을 수신합니다.
*   **Backend API (Kotlin/Spring):** `clover-wallet`의 핵심 로직을 포함하며, 로또 번호 생성, 내역 관리, 명당 정보 제공, 당첨 확인 로직, 커뮤니티 기능 등을 처리합니다. 외부 서비스(로또 공식 홈페이지, 지도 서비스, FCM)와 연동합니다.
*   **Database:** 모든 애플리케이션 데이터를 저장하고 관리합니다.
*   **Firebase Cloud Messaging (FCM):** 푸시 알림 전송을 위한 서비스입니다.
*   **Lotto Official Website:** 당첨 번호 및 관련 정보를 스크래핑하여 당첨 확인 및 고지에 활용합니다.
*   **Location/Map Services:** 로또 명당 검색 및 여행 플랜 추천을 위한 지도 및 위치 정보를 제공합니다.

### 5. 개발 계획 (고수준)

**1단계: MVP (Minimum Viable Product) 구축**
*   **로또 번호 추첨:** 기본적인 랜덤 번호 생성 기능.
*   **로또 내역 관리:** 수동 번호 입력 및 조회 기능.
*   **당첨 확인 및 푸시 알림:** 로또 공식 홈페이지 스크래핑을 통한 당첨 번호 확인 및 구매 내역 기반 당첨 고지 푸시 알림.
*   **기본 커뮤니티 기능:** 게시물 작성 및 조회.

**2단계: 기능 확장 및 고도화**
*   **OCR 기반 로또 용지 스캔:** 로또 용지 이미지 인식 기능 추가.
*   **전국 로또 명당 찾기:** 지도 기반 명당 검색 및 상세 정보 제공.
*   **구입 내역 기반 뱃지 시스템:** 뱃지 획득 및 커뮤니티 프로필 연동.
*   **홍보 기능:** 추첨 번호 내역 관리 및 당첨 방법 공지/푸시.

**3단계: 고급 기능 및 사용자 경험 개선**
*   **로또 명당 연계 여행 플랜 추천:** AI/추천 알고리즘을 활용한 맞춤형 여행 플랜 제안.
*   **다양한 번호 추첨 알고리즘:** 통계 기반, 과거 데이터 분석 등 고급 번호 생성 로직 추가.
*   **UI/UX 개선:** 사용자 피드백을 반영한 인터페이스 개선 및 애니메이션 추가.
*   **성능 최적화 및 안정화:** 대규모 사용자 트래픽을 위한 백엔드 및 데이터베이스 최적화.

이 기획서는 `Clover Lotto` 통합 앱 개발을 위한 초기 방향을 제시합니다. 각 기능의 세부 사항은 개발 과정에서 추가적인 논의와 사용자 요구사항 분석을 통해 구체화될 수 있습니다.
